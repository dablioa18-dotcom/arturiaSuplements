import{a as e,n as t,o as n,r,s as i,t as a}from"./index-Dl_z27bg.js";var o=i(n(),1),s=i(t(),1);function c({onQuickBuy:t}){let{id:n}=e(),i=a.find(e=>e.id===n),c=e=>typeof e==`number`?e.toLocaleString(`pt-BR`,{style:`currency`,currency:`BRL`}):e,f=i?.id?.toLowerCase().includes(`900g`)?`900g`:i?.id?.toLowerCase().includes(`1kg`)?`1kg`:`Único`,[p,m]=(0,o.useState)(f),[h,g]=(0,o.useState)(i?.variants?.[0]?.id??``),_=(0,o.useMemo)(()=>{let e=i?.variants?.find(e=>e.id===h);return e&&(e.image||(typeof e.images==`string`?e.images:null))||null},[i,h]);return i?(0,s.jsxs)(`div`,{className:`mx-auto max-w-6xl px-4 py-6`,children:[(0,s.jsxs)(`nav`,{className:`text-xs text-neutral-600 mb-4`,children:[(0,s.jsx)(r,{to:`/`,className:`underline`,children:`Início`}),(0,s.jsx)(`span`,{className:`mx-1`,children:`/`}),(0,s.jsx)(`span`,{className:`uppercase`,children:`Loja`}),(0,s.jsx)(`span`,{className:`mx-1`,children:`/`}),(0,s.jsxs)(`span`,{className:`font-medium`,children:[i.name,i.brand?` - ${i.brand}`:``]})]}),(0,s.jsxs)(`div`,{className:`grid sm:grid-cols-2 gap-6`,children:[(0,s.jsx)(l,{product:i,selectedVariantImage:_}),(0,s.jsxs)(`div`,{children:[(0,s.jsx)(`h1`,{className:`text-2xl font-bold`,children:i.name}),i.brand&&(0,s.jsxs)(`p`,{className:`mt-1 text-sm opacity-80`,children:[`Marca: `,i.brand]}),i.isKit&&(0,s.jsx)(`span`,{className:`mt-2 inline-block rounded bg-neutral-900 text-white px-2 py-1 text-xs`,children:`Kit`}),(0,s.jsxs)(`p`,{className:`mt-2`,children:[`Categoria: `,i.category]}),(0,s.jsx)(`div`,{className:`mt-4 flex items-center gap-3`,children:i.realPrice&&i.realPrice>i.price?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(`span`,{className:`text-lg line-through text-neutral-500`,children:c(i.realPrice)}),(0,s.jsx)(`span`,{className:`text-2xl font-bold text-brand-red`,children:c(i.price)}),(()=>{let e=Math.round(100-i.price/i.realPrice*100);return e>0?(0,s.jsxs)(`span`,{className:`inline-flex items-center rounded bg-green-600 text-white px-2 py-0.5 text-xs`,children:[`-`,e,`%`]}):null})()]}):(0,s.jsx)(`span`,{className:`text-2xl font-bold text-brand-red`,children:c(i.price)})}),(0,s.jsxs)(`p`,{className:`mt-1 text-sm text-neutral-700`,children:[`ou 5x de `,c(i.price/5),` sem juros`]}),i.variants?.length?(0,s.jsx)(u,{product:i,selected:h,setSelected:g}):null,(0,s.jsxs)(`div`,{className:`mt-4 grid grid-cols-1 sm:grid-cols-3 gap-3`,children:[(0,s.jsxs)(`div`,{children:[(0,s.jsx)(`label`,{className:`block text-sm font-medium mb-1`,children:`Peso`}),(0,s.jsx)(`select`,{className:`w-full rounded border border-neutral-300 bg-white p-2 text-sm`,value:p,onChange:e=>m(e.target.value),children:[f].map(e=>(0,s.jsx)(`option`,{children:e},e))})]}),(0,s.jsxs)(`div`,{children:[(0,s.jsx)(`label`,{className:`block text-sm font-medium mb-1`,children:`Sabor`}),(0,s.jsx)(`select`,{className:`w-full rounded border border-neutral-300 bg-white p-2 text-sm`,value:h,onChange:e=>g(e.target.value),children:i.variants?.length?i.variants.map(e=>(0,s.jsx)(`option`,{value:e.id,children:e.label},e.id)):(0,s.jsx)(`option`,{value:``,children:`Selecionar`})})]})]}),(0,s.jsx)(`p`,{className:`mt-4 text-sm opacity-80`,children:`Descrição: suplemento de alta qualidade para performance e saúde. Ideal para quem busca resultados e praticidade.`}),(0,s.jsx)(d,{onQuickBuy:t,product:i})]})]})]}):(0,s.jsx)(`div`,{className:`p-6`,children:`Produto não encontrado.`})}function l({product:e,selectedVariantImage:t}){let n=(0,o.useMemo)(()=>{let t=e.images?.length?e.images:[e.image];return(Array.isArray(t)?t.filter(e=>!!e):[]).length?t.filter(e=>!!e):[e.image].filter(e=>!!e)},[e]),[r,i]=(0,o.useState)(0);return(0,s.jsxs)(`div`,{className:`group overflow-hidden`,children:[(0,s.jsx)(`img`,{src:t||n[r],alt:e.name,className:`object-contain w-full h-auto max-h-80 rounded-none border-0 transition-transform duration-300 ease-out group-hover:scale-110 cursor-zoom-in`,style:{clipPath:`inset(0 0 0 1px)`}}),n.length>1&&(0,s.jsx)(`div`,{className:`mt-3 grid grid-cols-4 gap-2`,children:n.map((t,n)=>(0,s.jsx)(`button`,{className:`rounded-lg overflow-hidden border ${n===r?`border-neutral-900`:`border-neutral-300`}`,onClick:()=>i(n),children:(0,s.jsx)(`img`,{src:t,alt:`${e.name} ${n+1}`,className:`h-16 w-full object-cover`})},t))})]})}function u({product:e,selected:t,setSelected:n}){return(0,s.jsxs)(`div`,{className:`mt-4`,children:[(0,s.jsx)(`p`,{className:`text-sm font-medium`,children:`Sabores`}),(0,s.jsx)(`div`,{className:`mt-2 flex flex-wrap gap-2`,children:e.variants.map(e=>(0,s.jsx)(`button`,{onClick:()=>n(e.id),className:`px-3 py-1.5 rounded-md text-sm border ${t===e.id?`bg-neutral-900 text-white border-neutral-900`:`bg-white text-neutral-900 border-neutral-300`}`,children:e.label},e.id))})]})}function d({onQuickBuy:e,product:t}){let[n,r]=(0,o.useState)(1);return(0,s.jsxs)(`div`,{className:`mt-6 flex items-center gap-3`,children:[(0,s.jsx)(`input`,{type:`number`,className:`w-20 rounded border border-neutral-300 bg-white p-2 text-sm`,min:1,value:n,onChange:e=>r(Math.max(1,Number(e.target.value)||1))}),(0,s.jsx)(`button`,{className:`rounded-md bg-brand-red px-4 py-2 text-white`,onClick:()=>{for(let r=0;r<n;r++)e(t)},children:`Adicionar ao carrinho`})]})}export{c as default};